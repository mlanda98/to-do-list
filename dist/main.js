(()=>{"use strict";function t(){this.projects=[],this.nextProjectId=1}t.prototype.addProject=function(t){const e="project-"+this.nextProjectId++;this.projects.push({id:e,name:t}),this.renderProjects()},t.prototype.renderProjects=function(){const t=document.getElementById("projects");t.innerHTML="",this.projects.forEach((e=>{const n=document.createElement("button");n.classList.add("project-button"),n.id=e.id,n.textContent=e.name,t.appendChild(n)}))};const e=t;function n(){this.tasks=[]}n.prototype.addTask=function(t,e,n,o,d){const s={id:this.generatedId(),title:t,description:e,dueDate:n,priority:o,project:d};this.tasks.push(s),this.renderTasks(d)},n.prototype.deleteTask=function(t){this.tasks=this.tasks.filter((e=>e.id!==t)),this.renderTasks()},n.prototype.renderTasks=function(t){const e=document.getElementById("tasks");e.innerHTML="",this.tasks.forEach((n=>{if(n.project===t){const t=document.createElement("div");t.classList.add("task-item"),t.innerHTML=`\n      <h3>${n.title}</h3>\n      <p>Description: ${n.description}</p>\n      <p>Due Date: ${n.dueDate}</p>\n      <p>Priority: ${n.priority}</p>\n      <p>Project: ${n.project}</p>\n      <button class="delete-button" data-task-id="${n.id}">Delete</button>`,e.appendChild(t)}}))},n.prototype.generatedId=function(){return`${(new Date).getTime()} - ${Math.floor(1e4*Math.random())}`};const o=new n;!function(){const t=document.getElementById("task-form");function e(t){t.preventDefault();const e=document.getElementById("title-input").value,n=document.getElementById("description-input").value,d=document.getElementById("due-date-input").value,s=document.getElementById("priority-input").value,i=document.getElementById("selected-project").value;o.addTask(e,n,d,s,i),document.getElementById("title-input").value="",document.getElementById("description-input").value="",document.getElementById("due-date-input").value="",document.getElementById("priority-input").value="",document.getElementById("selected-project").value=""}document.addEventListener("DOMContentLoaded",(function(){t.addEventListener("submit",e)})),document.getElementById("tasks").addEventListener("click",(function(t){const e=t.target;if(e.classList.contains("delete-button")){const t=e.getAttribute("data-task-id"),n=new CustomEvent("taskSelected",{detail:t});document.dispatchEvent(n)}}))}(),o.addTask("Task 1","Description of task 1","2024-04-15","High","Project A"),document.getElementById("task-form").dispatchEvent(new Event("submit")),document.addEventListener("taskSelected",(function(t){const e=t.detail;o.deleteTask(e)})),document.addEventListener("DOMContentLoaded",(function(){const t=new e;function n(t){o.renderTasks(t)}t.projects.forEach((t=>{n(t.name)})),document.addEventListener("click",(function(e){if(e.target.classList.contains("project-button")){const n=e.target.id,d=t.projects.find((t=>t.id===n));o.renderTasks(d.name)}})),document.getElementById("projects-form").addEventListener("submit",(function(e){e.preventDefault();const o=document.getElementById("project-name-input"),d=o.value.trim();t.addProject(d),n(d),o.value=""}));const d="Project A";t.addProject(d),n(d)}))})();